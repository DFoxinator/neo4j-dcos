{  
  "id":"neo4j",
  "apps":[  
    {  
      "id":"core",
      "cpus":2,
      "mem":8000,
      "instances":3,
      "disk": 2000,
      "container":{  
        "type":"DOCKER",
        "docker":{  
          "image":"unterstein/dcos-neo4j:latest",
          "network":"USER",
          "forcePullImage":true,
          "volumes":[  
            {  
              "containerPath":"data",
              "mode":"RW",
              "persistent":{  
                "type":"root",
                "size":2000
              }
            },
            {  
              "containerPath":"/data",
              "hostPath":"data",
              "mode":"RW"
            }
          ]
        }
      },
      "env":{  
        "NEO4J_AUTH":"neo4j/dcos",
        "NEO4J_dbms_mode":"CORE",
        "NEO4J_causalClustering_expectedCoreClusterSize":"3"
      },
      "ipAddress":{  
        "networkName":"dcos"
      }
    },
    {  
      "id":"replica",
      "cpus":2,
      "mem":4000,
      "instances":0,
      "disk": 2000,
      "dependencies":[
        "/neo4j/core"
      ],
      "container":{  
        "type":"DOCKER",
        "docker":{  
          "image":"unterstein/dcos-neo4j:latest",
          "network":"USER",
          "forcePullImage":true,
          "volumes":[  
            {  
              "containerPath":"data",
              "mode":"RW",
              "persistent":{  
                "type":"root",
                "size":2000
              }
            },
            {  
              "containerPath":"/data",
              "hostPath":"data",
              "mode":"RW"
            }
          ]
        }
      },
      "env":{  
        "NEO4J_AUTH":"neo4j/dcos",
        "NEO4J_dbms_mode":"READ_REPLICA"
      },
      "ipAddress":{  
        "networkName":"dcos"
      }
    },
    {  
      "id":"proxy",
      "cpus":1,
      "mem":1024,
      "instances":1,
      "dependencies":[
        "/neo4j/core"
      ],
      "container":{  
        "type":"DOCKER",
        "docker":{  
          "image":"unterstein/dcos-neo4j-proxy:latest",
          "forcePullImage":true,
          "network":"BRIDGE",
          "portMappings":[  
            {  
              "hostPort":7474,
              "containerPort":7474,
              "protocol":"tcp"
            }
          ]
        }
      },
      "env":{  
        "DCOS_NEO4J_USER":"neo4j",
        "DCOS_NEO4J_PASS":"dcos"
      },
      "acceptedResourceRoles":[  
        "slave_public"
      ]
    }
  ]
}