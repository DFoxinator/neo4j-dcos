{
   "id":"neo4j",
   "apps":[
      {
         "id":"core1",
         "cpus":2,
         "mem":8000,
         "instances":1,
         "ports":[
            0, 0, 0, 0
         ],
         "container":{
            "type":"DOCKER",
            "docker":{
               "image":"neo4j/neo4j-experimental:3.1.0-M13-beta3-enterprise",
               "network":"BRIDGE",
               "portMappings":[
                  {
                     "hostPort":0,
                     "containerPort":7474,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_0":"10.0.0.1:7474"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":7473,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_1":"10.0.0.1:7473"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":7687,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_2":"10.0.0.1:7687"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":5000,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_3":"10.0.0.1:5000"
                     }
                  }
               ],
               "volumes": [
                  {
                    "containerPath":"data",
                    "mode":"RW",
                    "persistent": {
                      "type":"root",
                      "size":1000
                    }
                  },
                  {
                    "containerPath": "/data",
                    "hostPath": "data",
                    "mode": "RW"
                  }
               ]
            }
         },
         "healthChecks":[
            {
               "protocol":"HTTP",
               "path":"/",
               "portIndex":0,
               "timeoutSeconds":10,
               "gracePeriodSeconds":240,
               "intervalSeconds":2,
               "maxConsecutiveFailures":10
            }
         ],
         "env":{
            "NEO4J_AUTH":"none",
            "NEO4J_dbms_mode": "CORE",
            "NEO4J_causalClustering_expectedCoreClusterSize": "2",
            "NEO4J_causalClustering_initialDiscoveryMembers": "10.0.0.1:5000,10.0.0.2:5000"
         },
         "labels":{
            "HAPROXY_0_VHOST":"junterste-publicsl-12kmlldzoqdzk-1035600015.eu-central-1.elb.amazonaws.com",
            "HAPROXY_GROUP":"external"
         }
      },
      {
         "id":"core2",
         "cpus":2,
         "mem":8000,
         "instances":1,
         "ports":[
            0, 0, 0, 0
         ],
         "container":{
            "type":"DOCKER",
            "docker":{
               "image":"neo4j/neo4j-experimental:3.1.0-M13-beta3-enterprise",
               "network":"BRIDGE",
               "portMappings":[
                  {
                     "containerPort":7474,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_0":"10.0.0.2:7474"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":7473,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_1":"10.0.0.2:7473"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":7687,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_2":"10.0.0.2:7687"
                     }
                  },
                  {
                     "hostPort":0,
                     "containerPort":5000,
                     "protocol":"tcp",
                     "labels":{
                        "VIP_3":"10.0.0.2:5000"
                     }
                  }
               ],
               "volumes": [
                  {
                    "containerPath":"data",
                    "mode":"RW",
                    "persistent": {
                      "type":"root",
                      "size":1000
                    }
                  },
                  {
                    "containerPath": "/data",
                    "hostPath": "data",
                    "mode": "RW"
                  }
               ]
            }
         },
         "healthChecks":[
            {
               "protocol":"HTTP",
               "path":"/",
               "portIndex":0,
               "timeoutSeconds":10,
               "gracePeriodSeconds":240,
               "intervalSeconds":2,
               "maxConsecutiveFailures":10
            }
         ],
         "env":{
            "NEO4J_AUTH":"none",
            "NEO4J_dbms_mode": "CORE",
            "NEO4J_causalClustering_expectedCoreClusterSize": "2",
            "NEO4J_causalClustering_initialDiscoveryMembers": "10.0.0.1:5000,10.0.0.2:5000"
         }
      }
   ]
}